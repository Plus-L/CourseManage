{"ast":null,"code":"import \"core-js/modules/es.array.concat.js\";\nimport \"core-js/modules/es.function.name.js\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport request from \"@/utils/request\";\nexport default {\n  name: 'HomeView',\n  data: function data() {\n    return {\n      tableData: [],\n      dialogFormVisible: false,\n      form: {},\n      name: \"\",\n      sid: \"\",\n      hours: \"\",\n      fileList: []\n    };\n  },\n  created: function created() {\n    var _this = this;\n\n    request.get(\"http://localhost:8090/student/findall/\").then(function (res) {\n      console.log(res);\n      _this.tableData = res;\n    });\n  },\n  methods: {\n    load: function load() {\n      var _this2 = this;\n\n      request.get(\"http://localhost:8090/student/findall/\").then(function (res) {\n        console.log(res);\n        _this2.tableData = res;\n      });\n    },\n    handleAdd: function handleAdd() {\n      this.dialogFormVisible = true;\n      this.form = {};\n      this.load();\n    },\n    save: function save() {\n      var _this3 = this;\n\n      request.post(\"http://localhost:8090/student/\", this.form).then(function (res) {\n        if (res) {\n          _this3.$message.success(\"保存成功\");\n\n          _this3.dialogFormVisible = false;\n\n          _this3.load();\n        } else {\n          _this3.$message.error(\"保存失败\");\n        }\n      });\n    },\n    deleteStu: function deleteStu(id) {\n      var _this4 = this;\n\n      request.delete(\"http://localhost:8090/student/\" + id).then(function (res) {\n        if (res.code === '200') {\n          _this4.$message.success(\"删除成功\");\n\n          _this4.load();\n        } else {\n          _this4.$message.error(\"删除失败\");\n        }\n      });\n    },\n    handleEdit: function handleEdit(row) {\n      this.form = row;\n      this.dialogFormVisible = true;\n    },\n    updateHeadUrl: function updateHeadUrl() {\n      request.post(\"http://localhost:8090/student/upload\");\n    },\n    //处理上传文件\n    handleRemove: function handleRemove(file, fileList) {\n      this.fileList = fileList;\n      console.log(file, fileList);\n    },\n    handlePreview: function handlePreview(file) {\n      console.log(file);\n    },\n    handleExceed: function handleExceed(files, fileList) {\n      this.$message.warning(\"\\u5F53\\u524D\\u9650\\u5236\\u9009\\u62E9 3 \\u4E2A\\u6587\\u4EF6\\uFF0C\\u672C\\u6B21\\u9009\\u62E9\\u4E86 \".concat(files.length, \" \\u4E2A\\u6587\\u4EF6\\uFF0C\\u5171\\u9009\\u62E9\\u4E86 \").concat(files.length + fileList.length, \" \\u4E2A\\u6587\\u4EF6\"));\n    },\n    beforeRemove: function beforeRemove(file, fileList) {\n      return this.$confirm(\"\\u786E\\u5B9A\\u79FB\\u9664 \".concat(file.name, \"\\uFF1F\"));\n    } //上传文件结束\n\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0JA;AAEA;EACAA,gBADA;EAEAC,IAFA,kBAEA;IACA;MACAC,aADA;MAEAC,wBAFA;MAGAC,QAHA;MAIAJ,QAJA;MAKAK,OALA;MAMAC,SANA;MAOAC;IAPA;EASA,CAZA;EAaAC,OAbA,qBAaA;IAAA;;IACAC;MACAC;MACA;IACA,CAHA;EAIA,CAlBA;EAmBAC;IACAC,IADA,kBACA;MAAA;;MACAH;QACAC;QACA;MACA,CAHA;IAIA,CANA;IAOAG,SAPA,uBAOA;MACA;MACA;MACA;IACA,CAXA;IAYAC,IAZA,kBAYA;MAAA;;MACAL;QACA;UACA;;UACA;;UACA;QACA,CAJA,MAIA;UACA;QACA;MACA,CARA;IASA,CAtBA;IAuBAM,SAvBA,qBAuBAC,EAvBA,EAuBA;MAAA;;MACAP;QACA;UACA;;UACA;QACA,CAHA,MAGA;UACA;QACA;MACA,CAPA;IAQA,CAhCA;IAiCAQ,UAjCA,sBAiCAC,GAjCA,EAiCA;MACA;MACA;IACA,CApCA;IAqCAC,aArCA,2BAqCA;MACAV;IACA,CAvCA;IAwCA;IACAW,YAzCA,wBAyCAC,IAzCA,EAyCAd,QAzCA,EAyCA;MACA;MACAG;IACA,CA5CA;IA6CAY,aA7CA,yBA6CAD,IA7CA,EA6CA;MACAX;IACA,CA/CA;IAgDAa,YAhDA,wBAgDAC,KAhDA,EAgDAjB,QAhDA,EAgDA;MACA;IACA,CAlDA;IAmDAkB,YAnDA,wBAmDAJ,IAnDA,EAmDAd,QAnDA,EAmDA;MACA;IACA,CArDA,CAsDA;;EAtDA;AAnBA","names":["name","data","tableData","dialogFormVisible","form","sid","hours","fileList","created","request","console","methods","load","handleAdd","save","deleteStu","id","handleEdit","row","updateHeadUrl","handleRemove","file","handlePreview","handleExceed","files","beforeRemove"],"sourceRoot":"src/views","sources":["HomeView.vue"],"sourcesContent":["<template>\n  <div class=\"home\">\n    <el-container style=\"border: 1px solid #eee\">\n      <el-aside width=\"200px\" style=\"background-color: rgb(238, 241, 246);height: 100%\">\n        <el-menu :default-openeds=\"['1']\">\n          <el-submenu index=\"1\">\n            <template slot=\"title\"><i class=\"el-icon-message\"></i>导航一</template>\n            <el-menu-item-group>\n              <template slot=\"title\">分组一</template>\n              <el-menu-item index=\"1-1\">选项1</el-menu-item>\n              <el-menu-item index=\"1-2\">选项2</el-menu-item>\n            </el-menu-item-group>\n            <el-menu-item-group title=\"分组2\">\n              <el-menu-item index=\"1-3\">选项3</el-menu-item>\n            </el-menu-item-group>\n            <el-submenu index=\"1-4\">\n              <template slot=\"title\">选项4</template>\n              <el-menu-item index=\"1-4-1\">选项4-1</el-menu-item>\n            </el-submenu>\n          </el-submenu>\n          <el-submenu index=\"2\">\n            <template slot=\"title\"><i class=\"el-icon-menu\"></i>导航二</template>\n            <el-menu-item-group>\n              <template slot=\"title\">分组一</template>\n              <el-menu-item index=\"2-1\">选项1</el-menu-item>\n              <el-menu-item index=\"2-2\">选项2</el-menu-item>\n            </el-menu-item-group>\n            <el-menu-item-group title=\"分组2\">\n              <el-menu-item index=\"2-3\">选项3</el-menu-item>\n            </el-menu-item-group>\n            <el-submenu index=\"2-4\">\n              <template slot=\"title\">选项4</template>\n              <el-menu-item index=\"2-4-1\">选项4-1</el-menu-item>\n            </el-submenu>\n          </el-submenu>\n          <el-submenu index=\"3\">\n            <template slot=\"title\"><i class=\"el-icon-setting\"></i>导航三</template>\n            <el-menu-item-group>\n              <template slot=\"title\">分组一</template>\n              <el-menu-item index=\"3-1\">选项1</el-menu-item>\n              <el-menu-item index=\"3-2\">选项2</el-menu-item>\n            </el-menu-item-group>\n            <el-menu-item-group title=\"分组2\">\n              <el-menu-item index=\"3-3\">选项3</el-menu-item>\n            </el-menu-item-group>\n            <el-submenu index=\"3-4\">\n              <template slot=\"title\">选项4</template>\n              <el-menu-item index=\"3-4-1\">选项4-1</el-menu-item>\n            </el-submenu>\n          </el-submenu>\n        </el-menu>\n      </el-aside>\n\n      <el-container>\n\n        <el-header style=\"text-align: right; font-size: 16px; border-bottom: 1px solid #ccc; line-height: 60px\">\n          <el-dropdown>\n            <i class=\"el-icon-setting\" style=\"margin-right: 15px\"></i>\n            <el-dropdown-menu slot=\"dropdown\">\n              <el-dropdown-item>查看</el-dropdown-item>\n              <el-dropdown-item>新增</el-dropdown-item>\n              <el-dropdown-item>删除</el-dropdown-item>\n            </el-dropdown-menu>\n          </el-dropdown>\n          <span>韩慧媛</span>\n        </el-header>\n\n        <el-main>\n\n          <el-button type=\"success\" @click=\"handleAdd\">新增课程</el-button>\n\n          <el-table :data=\"tableData\" border stripe>\n            <el-table-column prop=\"id\" label=\"编号\" width=\"60\">\n            </el-table-column>\n            <el-table-column prop=\"name\" label=\"课程名\" width=\"120\">\n            </el-table-column>\n            <el-table-column prop=\"hours\" label=\"课时\">\n            </el-table-column>\n            <el-table-column prop=\"sid\" label=\"开课学院\">\n            </el-table-column>\n            <el-table-column label=\"操作\">\n              <template slot-scope=\"scope\">\n                <el-button type=\"success\" @click=\"handleEdit(scope.row)\">编辑 <i class=\"el-icon-edit\"></i></el-button>\n                <el-popconfirm\n                    class=\"ml-5\"\n                    confirm-button-text='确定'\n                    cancel-button-text='我再想想'\n                    icon=\"el-icon-info\"\n                    icon-color=\"red\"\n                    title=\"您确定删除吗？\"\n                    @confirm=\"deleteStu(scope.row.id)\"\n                >\n                  <el-button type=\"danger\" slot=\"reference\">删除 <i class=\"el-icon-remove-outline\"></i></el-button>\n                </el-popconfirm>\n              </template>\n            </el-table-column>\n          </el-table>\n\n          <el-dialog title=\"新增/修改课程\" :visible.sync=\"dialogFormVisible\" width=\"40%\">\n            <el-form label-width=\"120px\">\n              <el-form-item label=\"课程名称\">\n                <el-input v-model=\"form.name\" autocomplete=\"off\"></el-input>\n              </el-form-item>\n              <el-form-item label=\"课时\">\n                <el-input v-model=\"form.hours\" autocomplete=\"off\"></el-input>\n              </el-form-item>\n              <el-form-item label=\"所属学院\">\n                <el-select v-model=\"form.sid\" placeholder=\"请选择所属学院\">\n                  <el-option label=\"计算机学院\" value=\"1\"></el-option>\n                  <el-option label=\"外国语学院\" value=\"2\"></el-option>\n                </el-select>\n              </el-form-item>\n\n            </el-form>\n            <div slot=\"footer\" class=\"dialog-footer\">\n              <el-button @click=\"dialogFormVisible = false\">取 消</el-button>\n              <el-button type=\"primary\" @click=\"save\">确 定</el-button>\n            </div>\n          </el-dialog>\n\n          <el-dialog title=\"新增/修改课程\" :visible.sync=\"dialogFormVisible\" width=\"40%\">\n            <el-form label-width=\"120px\">\n              <el-form-item label=\"上传图片\">\n                <el-upload\n                    class=\"upload-demo\"\n                    action=\"https://jsonplaceholder.typicode.com/posts/\"\n                    :on-preview=\"handlePreview\"\n                    :on-remove=\"handleRemove\"\n                    :before-remove=\"beforeRemove\"\n                    multiple\n                    :limit=\"3\"\n                    :on-exceed=\"handleExceed\"\n                    :file-list=\"fileList\">\n                  <el-button size=\"small\" type=\"primary\">点击上传</el-button>\n                  <div slot=\"tip\" class=\"el-upload__tip\">只能上传jpg/png文件，且不超过500kb</div>\n                </el-upload>\n              </el-form-item>\n            </el-form>\n\n            <div slot=\"footer\" class=\"dialog-footer\">\n              <el-button @click=\"dialogFormVisible = false\">取 消</el-button>\n              <el-button type=\"primary\" @click=\"save\">确 定</el-button>\n            </div>\n          </el-dialog>\n\n        </el-main>\n      </el-container>\n    </el-container>\n\n  </div>\n</template>\n\n<script>\n\nimport request from \"@/utils/request\";\n\nexport default {\n  name: 'HomeView',\n  data() {\n    return {\n      tableData:[],\n      dialogFormVisible: false,\n      form: {},\n      name: \"\",\n      sid: \"\",\n      hours: \"\",\n      fileList: []\n    }\n  },\n  created() {\n    request.get(\"http://localhost:8090/student/findall/\").then(res => {\n      console.log(res)\n      this.tableData = res\n    })\n  },\n  methods: {\n    load() {\n      request.get(\"http://localhost:8090/student/findall/\").then(res => {\n        console.log(res)\n        this.tableData = res\n      })\n    },\n    handleAdd() {\n      this.dialogFormVisible=true\n      this.form = {}\n      this.load()\n    },\n    save() {\n      request.post(\"http://localhost:8090/student/\", this.form).then(res =>{\n        if(res) {\n          this.$message.success(\"保存成功\")\n          this.dialogFormVisible = false\n          this.load()\n        } else {\n          this.$message.error(\"保存失败\")\n        }\n      })\n    },\n    deleteStu(id) {\n        request.delete(\"http://localhost:8090/student/\" + id).then(res => {\n          if (res.code === '200') {\n            this.$message.success(\"删除成功\")\n            this.load()\n          } else {\n            this.$message.error(\"删除失败\")\n          }\n        })\n    },\n    handleEdit(row) {\n      this.form = row\n      this.dialogFormVisible = true\n    },\n    updateHeadUrl() {\n      request.post(\"http://localhost:8090/student/upload\")\n    },\n    //处理上传文件\n    handleRemove(file, fileList) {\n      this.fileList = fileList;\n      console.log(file, fileList);\n    },\n    handlePreview(file) {\n      console.log(file);\n    },\n    handleExceed(files, fileList) {\n      this.$message.warning(`当前限制选择 3 个文件，本次选择了 ${files.length} 个文件，共选择了 ${files.length + fileList.length} 个文件`);\n    },\n    beforeRemove(file, fileList) {\n      return this.$confirm(`确定移除 ${ file.name }？`);\n    }\n    //上传文件结束\n\n  }\n\n}\n</script>\n"]},"metadata":{},"sourceType":"module"}