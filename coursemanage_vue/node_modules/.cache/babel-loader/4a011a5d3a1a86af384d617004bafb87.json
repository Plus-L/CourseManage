{"ast":null,"code":"//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport request from \"@/utils/request\";\nexport default {\n  name: 'HomeView',\n  data: function data() {\n    return {\n      tableData: [],\n      dialogFormVisible: false,\n      PICdialogFormVisible: false,\n      form: {},\n      name: \"\",\n      sid: \"\",\n      hours: \"\",\n      fileList: []\n    };\n  },\n  created: function created() {\n    var _this = this;\n\n    request.get(\"http://localhost:8090/student/findall/\").then(function (res) {\n      console.log(res);\n      _this.tableData = res;\n    });\n  },\n  methods: {\n    load: function load() {\n      var _this2 = this;\n\n      request.get(\"http://localhost:8090/student/findall/\").then(function (res) {\n        console.log(res);\n        _this2.tableData = res;\n      });\n    },\n    handleAdd: function handleAdd() {\n      this.dialogFormVisible = true;\n      this.form = {};\n      this.load();\n    },\n    save: function save() {\n      var _this3 = this;\n\n      request.post(\"http://localhost:8090/student/\", this.form).then(function (res) {\n        if (res) {\n          _this3.$message.success(\"保存成功\");\n\n          _this3.dialogFormVisible = false;\n\n          _this3.load();\n        } else {\n          _this3.$message.error(\"保存失败\");\n        }\n      });\n    },\n    deleteStu: function deleteStu(id) {\n      var _this4 = this;\n\n      request.delete(\"http://localhost:8090/student/\" + id).then(function (res) {\n        if (res.code === '200') {\n          _this4.$message.success(\"删除成功\");\n\n          _this4.load();\n        } else {\n          _this4.$message.error(\"删除失败\");\n        }\n      });\n    },\n    handleEdit: function handleEdit(row) {\n      this.form = row;\n      this.dialogFormVisible = true;\n    },\n    updateHeadUrl: function updateHeadUrl() {\n      var _this5 = this;\n\n      request.post(\"http://localhost:8090/student/upload\", this.form).then(function (res) {\n        if (res) {\n          _this5.$message.success(\"保存成功\");\n\n          _this5.PICdialogFormVisible = false;\n\n          _this5.load();\n        } else {\n          _this5.$message.error(\"上传失败\");\n        }\n      });\n    },\n    updateHeadUrlDialog: function updateHeadUrlDialog() {\n      this.PICdialogFormVisible = true;\n    },\n    //处理上传文件\n    submitUpload: function submitUpload() {\n      this.$refs.upload.submit();\n    },\n    handleRemove: function handleRemove(file, fileList) {\n      console.log(file, fileList);\n    },\n    handlePreview: function handlePreview(file) {\n      console.log(file);\n    } //上传文件结束\n\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6KA;AAEA;EACAA,gBADA;EAEAC,IAFA,kBAEA;IACA;MACAC,aADA;MAEAC,wBAFA;MAGAC,2BAHA;MAIAC,QAJA;MAKAL,QALA;MAMAM,OANA;MAOAC,SAPA;MAQAC;IARA;EAUA,CAbA;EAcAC,OAdA,qBAcA;IAAA;;IACAC;MACAC;MACA;IACA,CAHA;EAIA,CAnBA;EAoBAC;IACAC,IADA,kBACA;MAAA;;MACAH;QACAC;QACA;MACA,CAHA;IAIA,CANA;IAOAG,SAPA,uBAOA;MACA;MACA;MACA;IACA,CAXA;IAYAC,IAZA,kBAYA;MAAA;;MACAL;QACA;UACA;;UACA;;UACA;QACA,CAJA,MAIA;UACA;QACA;MACA,CARA;IASA,CAtBA;IAuBAM,SAvBA,qBAuBAC,EAvBA,EAuBA;MAAA;;MACAP;QACA;UACA;;UACA;QACA,CAHA,MAGA;UACA;QACA;MACA,CAPA;IAQA,CAhCA;IAiCAQ,UAjCA,sBAiCAC,GAjCA,EAiCA;MACA;MACA;IACA,CApCA;IAqCAC,aArCA,2BAqCA;MAAA;;MACAV;QACA;UACA;;UACA;;UACA;QACA,CAJA,MAIA;UACA;QACA;MACA,CARA;IASA,CA/CA;IAgDAW,mBAhDA,iCAgDA;MACA;IACA,CAlDA;IAmDA;IACAC,YApDA,0BAoDA;MACA;IACA,CAtDA;IAuDAC,YAvDA,wBAuDAC,IAvDA,EAuDAhB,QAvDA,EAuDA;MACAG;IACA,CAzDA;IA0DAc,aA1DA,yBA0DAD,IA1DA,EA0DA;MACAb;IACA,CA5DA,CA6DA;;EA7DA;AApBA","names":["name","data","tableData","dialogFormVisible","PICdialogFormVisible","form","sid","hours","fileList","created","request","console","methods","load","handleAdd","save","deleteStu","id","handleEdit","row","updateHeadUrl","updateHeadUrlDialog","submitUpload","handleRemove","file","handlePreview"],"sourceRoot":"src/views","sources":["HomeView.vue"],"sourcesContent":["<template>\n  <div class=\"home\">\n    <el-container style=\"border: 1px solid #eee\">\n      <el-aside width=\"200px\" style=\"background-color: rgb(238, 241, 246);height: 100%\">\n        <el-menu :default-openeds=\"['1']\">\n          <el-submenu index=\"1\">\n            <template slot=\"title\"><i class=\"el-icon-message\"></i>导航一</template>\n            <el-menu-item-group>\n              <template slot=\"title\">分组一</template>\n              <el-menu-item index=\"1-1\">选项1</el-menu-item>\n              <el-menu-item index=\"1-2\">选项2</el-menu-item>\n            </el-menu-item-group>\n            <el-menu-item-group title=\"分组2\">\n              <el-menu-item index=\"1-3\">选项3</el-menu-item>\n            </el-menu-item-group>\n            <el-submenu index=\"1-4\">\n              <template slot=\"title\">选项4</template>\n              <el-menu-item index=\"1-4-1\">选项4-1</el-menu-item>\n            </el-submenu>\n          </el-submenu>\n          <el-submenu index=\"2\">\n            <template slot=\"title\"><i class=\"el-icon-menu\"></i>导航二</template>\n            <el-menu-item-group>\n              <template slot=\"title\">分组一</template>\n              <el-menu-item index=\"2-1\">选项1</el-menu-item>\n              <el-menu-item index=\"2-2\">选项2</el-menu-item>\n            </el-menu-item-group>\n            <el-menu-item-group title=\"分组2\">\n              <el-menu-item index=\"2-3\">选项3</el-menu-item>\n            </el-menu-item-group>\n            <el-submenu index=\"2-4\">\n              <template slot=\"title\">选项4</template>\n              <el-menu-item index=\"2-4-1\">选项4-1</el-menu-item>\n            </el-submenu>\n          </el-submenu>\n          <el-submenu index=\"3\">\n            <template slot=\"title\"><i class=\"el-icon-setting\"></i>导航三</template>\n            <el-menu-item-group>\n              <template slot=\"title\">分组一</template>\n              <el-menu-item index=\"3-1\">选项1</el-menu-item>\n              <el-menu-item index=\"3-2\">选项2</el-menu-item>\n            </el-menu-item-group>\n            <el-menu-item-group title=\"分组2\">\n              <el-menu-item index=\"3-3\">选项3</el-menu-item>\n            </el-menu-item-group>\n            <el-submenu index=\"3-4\">\n              <template slot=\"title\">选项4</template>\n              <el-menu-item index=\"3-4-1\">选项4-1</el-menu-item>\n            </el-submenu>\n          </el-submenu>\n        </el-menu>\n      </el-aside>\n\n      <el-container>\n\n        <el-header style=\"text-align: right; font-size: 16px; border-bottom: 1px solid #ccc; line-height: 60px\">\n          <el-dropdown>\n            <i class=\"el-icon-setting\" style=\"margin-right: 15px\"></i>\n            <el-dropdown-menu slot=\"dropdown\">\n              <el-dropdown-item>查看</el-dropdown-item>\n              <el-dropdown-item>新增</el-dropdown-item>\n              <el-dropdown-item>删除</el-dropdown-item>\n            </el-dropdown-menu>\n          </el-dropdown>\n          <span>韩慧媛</span>\n        </el-header>\n\n        <el-main>\n\n          <el-button type=\"success\" @click=\"handleAdd\">新增课程</el-button>\n\n          <el-table :data=\"tableData\" border stripe>\n            <el-table-column prop=\"id\" label=\"编号\" width=\"60\">\n            </el-table-column>\n            <el-table-column prop=\"name\" label=\"课程名\" width=\"120\">\n            </el-table-column>\n            <el-table-column prop=\"hours\" label=\"课时\">\n            </el-table-column>\n            <el-table-column prop=\"sid\" label=\"开课学院\">\n            </el-table-column>\n            <el-table-column label=\"操作\">\n              <template slot-scope=\"scope\">\n                <el-button type=\"success\" @click=\"handleEdit(scope.row)\">编辑 <i class=\"el-icon-edit\"></i></el-button>\n                <el-popconfirm\n                    class=\"ml-5\"\n                    confirm-button-text='确定'\n                    cancel-button-text='我再想想'\n                    icon=\"el-icon-info\"\n                    icon-color=\"red\"\n                    title=\"您确定删除吗？\"\n                    @confirm=\"deleteStu(scope.row.id)\"\n                >\n                  <el-button type=\"danger\" slot=\"reference\">删除 <i class=\"el-icon-remove-outline\"></i></el-button>\n                </el-popconfirm>\n                <el-button type=\"primary\" @click=\"updateHeadUrlDialog\">上传图片</el-button>\n              </template>\n            </el-table-column>\n          </el-table>\n\n          <el-dialog title=\"新增/修改课程\" :visible.sync=\"dialogFormVisible\" width=\"40%\">\n            <el-form label-width=\"120px\">\n              <el-form-item label=\"课程名称\">\n                <el-input v-model=\"form.name\" autocomplete=\"off\"></el-input>\n              </el-form-item>\n              <el-form-item label=\"课时\">\n                <el-input v-model=\"form.hours\" autocomplete=\"off\"></el-input>\n              </el-form-item>\n              <el-form-item label=\"所属学院\">\n                <el-select v-model=\"form.sid\" placeholder=\"请选择所属学院\">\n                  <el-option label=\"计算机学院\" value=\"1\"></el-option>\n                  <el-option label=\"外国语学院\" value=\"2\"></el-option>\n                </el-select>\n              </el-form-item>\n\n            </el-form>\n            <div slot=\"footer\" class=\"dialog-footer\">\n              <el-button @click=\"dialogFormVisible = false\">取 消</el-button>\n              <el-button type=\"primary\" @click=\"save\">确 定</el-button>\n            </div>\n          </el-dialog>\n\n          <el-dialog title=\"上传图片\" :visible.sync=\"PICdialogFormVisible\" width=\"40%\">\n<!--            <el-form label-width=\"120px\">\n              <el-form-item label=\"上传图片\">\n                <el-upload\n                    class=\"upload-demo\"\n                    ref=\"upload\"\n                    action=\"https://jsonplaceholder.typicode.com/posts/\"\n                    :on-preview=\"handlePreview\"\n                    :on-remove=\"handleRemove\"\n                    :file-list=\"fileList\"\n                    :auto-upload=\"false\">\n                  <el-button slot=\"trigger\" size=\"small\" type=\"primary\">选取文件</el-button>\n                  <el-button style=\"margin-left: 10px;\" size=\"small\" type=\"success\" @click=\"updateHeadUrl\">上传到服务器</el-button>\n                  <div slot=\"tip\" class=\"el-upload__tip\">只能上传jpg/png文件，且不超过500kb</div>\n                </el-upload>\n              </el-form-item>\n            </el-form>-->\n            <form id=\"upLoadForm\" method=\"post\" enctype=\"multipart/form-data\" action=\"\">\n              <div class=\"form-group row mt-4\">\n                <label for=\"head-img\" class=\"col-sm-2 col-form-label text-light\">选择头像</label>\n                <div class=\"col-sm-12\">\n                  <div class=\"custom-file\">\n                    <input type=\"file\"\n                           name=\"headImage\" id=\"head-img\"  lang=\"es\" required=\"\">\n                    <label class=\"custom-file-label\" for=\"head-img\" data-browse=\"文件\">选择一张图片</label>\n                    <div class=\"invalid-feedback\">\n                      上传图片有误\n                    </div>\n                  </div>\n                </div>\n              </div>\n              <div class=\"form-group row mt-4\">\n                <div class=\"col-sm-12\">\n                  <button type=\"submit\" class=\"btn btn-info text-white form-control\">上传图片</button>\n                </div>\n              </div>\n            </form>\n\n            <div slot=\"footer\" class=\"dialog-footer\">\n              <el-button @click=\"PICdialogFormVisible = false\">取 消</el-button>\n            </div>\n          </el-dialog>\n\n        </el-main>\n      </el-container>\n    </el-container>\n\n  </div>\n</template>\n\n<script>\n\nimport request from \"@/utils/request\";\n\nexport default {\n  name: 'HomeView',\n  data() {\n    return {\n      tableData:[],\n      dialogFormVisible: false,\n      PICdialogFormVisible: false,\n      form: {},\n      name: \"\",\n      sid: \"\",\n      hours: \"\",\n      fileList: []\n    }\n  },\n  created() {\n    request.get(\"http://localhost:8090/student/findall/\").then(res => {\n      console.log(res)\n      this.tableData = res\n    })\n  },\n  methods: {\n    load() {\n      request.get(\"http://localhost:8090/student/findall/\").then(res => {\n        console.log(res)\n        this.tableData = res\n      })\n    },\n    handleAdd() {\n      this.dialogFormVisible=true\n      this.form = {}\n      this.load()\n    },\n    save() {\n      request.post(\"http://localhost:8090/student/\", this.form).then(res =>{\n        if(res) {\n          this.$message.success(\"保存成功\")\n          this.dialogFormVisible = false\n          this.load()\n        } else {\n          this.$message.error(\"保存失败\")\n        }\n      })\n    },\n    deleteStu(id) {\n        request.delete(\"http://localhost:8090/student/\" + id).then(res => {\n          if (res.code === '200') {\n            this.$message.success(\"删除成功\")\n            this.load()\n          } else {\n            this.$message.error(\"删除失败\")\n          }\n        })\n    },\n    handleEdit(row) {\n      this.form = row\n      this.dialogFormVisible = true\n    },\n    updateHeadUrl() {\n      request.post(\"http://localhost:8090/student/upload\", this.form).then(res =>{\n        if(res) {\n          this.$message.success(\"保存成功\")\n          this.PICdialogFormVisible = false\n          this.load()\n        } else {\n          this.$message.error(\"上传失败\")\n        }\n      })\n    },\n    updateHeadUrlDialog() {\n      this.PICdialogFormVisible = true\n    },\n    //处理上传文件\n    submitUpload() {\n      this.$refs.upload.submit();\n    },\n    handleRemove(file, fileList) {\n      console.log(file, fileList);\n    },\n    handlePreview(file) {\n      console.log(file);\n    }\n    //上传文件结束\n\n  }\n\n}\n</script>\n"]},"metadata":{},"sourceType":"module"}